# NOTE このyamlに記述されているスキーマのコード、JSONローダーはSourceGeneratorによって自動生成されます。そのため、このスキーマのクラスやローダーを実装する必要はありません。
# NOTE The schema code and JSON loader described in this YAML are automatically generated by the SourceGenerator. Therefore, you do not need to implement the classes or loaders for this schema.

id: blocks
type: object
isDefaultOpen: true
defineInterface:
- interfaceName: IMachineParam
  properties:
  - key: inputSlotCount
    type: integer
    default: 0
  - key: outputSlotCount
    type: integer
    default: 0
  - key: inputTankCount
    type: integer
    default: 0
  - key: outputTankCount
    type: integer
    default: 0
  - key: innerTankCapacity
    type: number
    default: 0
- interfaceName: IChestParam
  properties:
  - key: itemSlotCount
    type: integer
- interfaceName: IGearMachineParam
  properties:
  - key: requireTorque
    type: number
    default: 1
  - key: requiredRpm
    type: number
    default: 5
- interfaceName: IInventoryConnectors
  properties:
  - key: inventoryConnectors
    ref: inventoryConnects
- interfaceName: IGearConnectors
  properties:
    - key: gear
      ref: gear

properties:
- key: data
  type: array
  openedByDefault: true
  overrideCodeGeneratePropertyName: BlockMasterElement
  items:
    type: object
    properties:
    - key: blockGuid
      type: uuid
      autoGenerated: true
    - key: name
      type: string
    - key: blockType
      type: enum
      options:
      - Block
      - BeltConveyor
      - Chest
      - ElectricMachine
      - ElectricPole
      - ElectricGenerator
      - ElectricMiner
      - Gear
      - Shaft
      - GearMachine
      - SimpleGearGenerator
      - SteamGearGenerator
      - GearBeltConveyor
      - GearMiner
      - GearMapObjectMiner
      - ItemShooter
      - CraftChainerTransporter
      - CraftChainerCrafter
      - CraftChainerProviderChest
      - CraftChainerMainComputer
      - TrainRail
      - TrainStation
      - TrainCargoPlatform
      - FluidPipe
      - BaseCamp
      - GearPump
      - ElectricPump
      - GearElectricGenerator
    - key: itemGuid
      type: uuid
      foreignKey:
        schemaId: items
        foreignKeyIdPath: /data/[*]/itemGuid
        displayElementPath: /data/[*]/name
    - key: blockSize
      type: vector3Int
      default:
      - 1
      - 1
      - 1
    - key: blockPrefabAddressablesPath
      type: string
      optional: true
    - key: blockUIAddressablesPath
      type: string
      optional: true
    - key: blockParam
      switch: ./blockType
      cases:
      - when: Block
        type: object
        properties: []
      - when: BeltConveyor
        type: object
        implementationInterface:
        - IInventoryConnectors
        properties:
        - key: beltConveyorItemCount
          type: integer
          default: 1
        - key: timeOfItemEnterToExit
          type: number
          default: 1
        - key: slopeType
          type: enum
          options:
          - Straight
          - Up
          - Down
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: Chest
        type: object
        implementationInterface:
        - IChestParam
        properties:
        - key: itemSlotCount
          type: integer
          default: 5
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: ElectricMachine
        type: object
        implementationInterface:
        - IInventoryConnectors
        - IMachineParam
        properties:
        - key: requiredPower
          type: number
          default: 5
        - key: inputSlotCount
          type: integer
          default: 1
        - key: outputSlotCount
          type: integer
          default: 1
        - key: inventoryConnectors
          ref: inventoryConnects
        - key: inputTankCount
          type: integer
          default: 0
        - key: outputTankCount
          type: integer
          default: 0
        - key: innerTankCapacity
          type: number
          default: 0
        - key: fluidInventoryConnectors
          ref: fluidInventoryConnects
      - when: ElectricPole
        type: object
        properties:
        - key: poleConnectionRange
          type: integer
          default: 5
        - key: machineConnectionRange
          type: integer
          default: 5
      - when: ElectricGenerator
        type: object
        implementationInterface:
        - IInventoryConnectors
        properties:
        - key: fuelItemSlotCount
          type: integer
          default: 3
        - key: isInfinityPower
          type: boolean
          default: false
        - key: infinityPower
          type: integer
          default: 0
        - key: fuelItems
          type: array
          optional: true
          items:
            type: object
            properties:
            - key: itemGuid
              type: uuid
              foreignKey:
                schemaId: items
                foreignKeyIdPath: /data/[*]/itemGuid
                displayElementPath: /data/[*]/name
            - key: time
              type: number
              default: 1
            - key: power
              type: number
              default: 10
        - key: inventoryConnectors
          ref: inventoryConnects
        - key: fuelFluidTankCapacity
          type: number
          default: 0
        - key: fuelFluids
          type: array
          optional: true
          items:
            type: object
            properties:
            - key: fluidGuid
              type: uuid
              foreignKey:
                schemaId: fluids
                foreignKeyIdPath: /data/[*]/fluidGuid
                displayElementPath: /data/[*]/name
            - key: amount
              type: number
              default: 1
            - key: time
              type: number
              default: 1
            - key: power
              type: number
              default: 10
        - key: fluidInventoryConnectors
          ref: fluidInventoryConnects
      - when: ElectricMiner
        type: object
        implementationInterface:
        - IInventoryConnectors
        properties:
        - key: requiredPower
          type: number
          default: 5
        - key: outputItemSlotCount
          type: integer
          default: 3
        - key: mineSettings
          ref: mineSettings
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: Gear
        type: object
        properties:
        - key: teethCount
          type: integer
          default: 10
        - key: requireTorque
          type: number
          default: 1
        - key: gear
          ref: gear
      - when: Shaft
        type: object
        implementationInterface:
        - IGearConnectors
        properties:
        - key: requireTorque
          type: number
          default: 1
        - key: gear
          ref: gear
      - when: GearMachine
        type: object
        implementationInterface:
        - IMachineParam
        - IGearMachineParam
        - IInventoryConnectors
        - IGearConnectors
        properties:
        - key: inputSlotCount
          type: integer
          default: 1
        - key: outputSlotCount
          type: integer
          default: 1
        - key: inventoryConnectors
          ref: inventoryConnects
        - key: teethCount
          type: integer
          default: 10
        - key: requireTorque
          type: number
          default: 1
        - key: requiredRpm
          type: number
          default: 5
        - key: gear
          ref: gear
        - key: inputTankCount
          type: integer
          default: 0
        - key: outputTankCount
          type: integer
          default: 0
        - key: innerTankCapacity
          type: number
          default: 0
        - key: fluidInventoryConnectors
          ref: fluidInventoryConnects
      - when: SimpleGearGenerator
        type: object
        implementationInterface:
        - IGearConnectors
        properties:
        - key: teethCount
          type: integer
          default: 10
        - key: generateRpm
          type: number
          default: 5
        - key: generateTorque
          type: number
          default: 1
        - key: gear
          ref: gear
      - when: SteamGearGenerator
        type: object
        implementationInterface:
        - IGearConnectors
        properties:
        - key: teethCount
          type: integer
          default: 10
        - key: generateMaxRpm
          type: number
          default: 5
        - key: generateMaxTorque
          type: number
          default: 1
        - key: timeToMax
          type: number
          default: 30
        - key: timeToMaxEasing
          type: enum
          options:
          - Linear
          - EaseInSine
          - EaseOutSine
          - EaseInCubic
          - EaseOutCubic
          - EaseInQuint
          - EaseOutQuint
          - EaseInCirc
          - EaseOutCirc
          default: EaseInSine
        - key: gear
          ref: gear
        - key: fluidCapacity
          type: number
          default: 100
        - key: requiredFluids
          type: array
          items:
            type: object
            properties:
            - key: fluidGuid
              type: uuid
              foreignKey:
                schemaId: fluids
                foreignKeyIdPath: /data/[*]/fluidGuid
                displayElementPath: /data/[*]/name
            - key: amount
              type: number
              default: 1
            - key: consumptionTime
              type: number
              default: 1
        - key: fluidInventoryConnectors
          ref: fluidInventoryConnects
      - when: GearBeltConveyor
        type: object
        implementationInterface:
        - IInventoryConnectors
        - IGearConnectors
        properties:
        - key: beltConveyorItemCount
          type: integer
          default: 4
        - key: beltConveyorSpeed
          type: number
          default: 2
        - key: requireTorque
          type: number
          default: 2
        - key: slopeType
          type: enum
          options:
          - Straight
          - Up
          - Down
        - key: inventoryConnectors
          ref: inventoryConnects
        - key: gear
          ref: gear
      - when: ItemShooter
        type: object
        implementationInterface:
        - IInventoryConnectors
        properties:
        - key: inventoryItemNum
          type: integer
          default: 4
        - key: initialShootSpeed
          type: number
          default: 3
        - key: itemShootSpeed
          type: number
          default: 2
        - key: acceleration
          type: number
          default: 1
        - key: slopeType
          type: enum
          options:
          - Straight
          - Up
          - Down
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: GearMiner
        type: object
        implementationInterface:
        - IGearMachineParam
        - IInventoryConnectors
        - IGearConnectors
        properties:
        - key: teethCount
          type: integer
          default: 10
        - key: requireTorque
          type: number
          default: 1
        - key: requiredRpm
          type: number
          default: 5
        - key: outputItemSlotCount
          type: integer
          default: 3
        - key: mineSettings
          ref: mineSettings
        - key: inventoryConnectors
          ref: inventoryConnects
        - key: gear
          ref: gear
      - when: GearMapObjectMiner
        type: object
        implementationInterface:
        - IChestParam
        - IGearMachineParam
        - IInventoryConnectors
        - IGearConnectors
        properties:
        - key: teethCount
          type: integer
          default: 10
        - key: requireTorque
          type: number
          default: 1
        - key: requiredRpm
          type: number
          default: 5
        - key: itemSlotCount
          type: integer
          default: 3
        - key: miningAreaRange
          type: vector3Int
        - key: miningAreaOffset
          type: vector3Int
        - key: mapObjectMineSettings
          ref: mapObjectMineSettings
        - key: inventoryConnectors
          ref: inventoryConnects
        - key: gear
          ref: gear
      - when: CraftChainerTransporter
        type: object
        implementationInterface:
        - IInventoryConnectors
        properties:
        - key: transporterConveyorItemCount
          type: integer
          default: 1
        - key: timeOfItemEnterToExit
          type: number
          default: 1
        - key: slopeType
          type: enum
          options:
          - Straight
          - Up
          - Down
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: CraftChainerCrafter
        type: object
        implementationInterface:
        - IInventoryConnectors
        properties:
        - key: itemSlotCount
          type: integer
          default: 5
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: CraftChainerProviderChest
        type: object
        implementationInterface:
        - IInventoryConnectors
        - IChestParam
        properties:
        - key: itemSlotCount
          type: integer
          default: 5
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: CraftChainerMainComputer
        type: object
        implementationInterface:
        - IChestParam
        - IInventoryConnectors
        properties:
        - key: itemSlotCount
          type: integer
          default: 5
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: TrainRail
        type: object
        properties: []
      - when: TrainStation
        type: object
        implementationInterface:
        - IInventoryConnectors
        properties:
        - key: stationDistance
          type: integer
          default: 5
        - key: itemSlotCount
          type: integer
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: TrainCargoPlatform
        type: object
        implementationInterface:
        - IInventoryConnectors
        properties:
        - key: platformDistance
          type: integer
          default: 5
        - key: inputSlotCount
          type: integer
          default: 10
        - key: outputSlotCount
          type: integer
          default: 10
        - key: loadingSpeed
          type: number
          default: 20
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: FluidPipe
        type: object
        properties:
        - key: fluidInventoryConnectors
          ref: fluidInventoryConnects
        - key: capacity
          type: number
          default: 100
      - when: BaseCamp
        type: object
        properties:
        - key: requiredItems
          type: array
          items:
            type: object
            properties:
            - key: itemGuid
              type: uuid
              foreignKey:
                schemaId: items
                foreignKeyIdPath: /data/[*]/itemGuid
                displayElementPath: /data/[*]/name
            - key: amount
              type: integer
              default: 1
        - key: inventorySlot
          type: integer
          default: 5
        - key: inventoryConnectors
          ref: inventoryConnects
        - key: upgradBlockGuid
          type: uuid
          foreignKey:
            schemaId: blocks
            foreignKeyIdPath: /data/[*]/blockGuid
            displayElementPath: /data/[*]/name
      - when: GearPump
        type: object
        implementationInterface:
        - IGearConnectors
        properties:
        - key: generateFluid
          ref: generateFluids
        - key: innerTankCapacity
          type: number
          default: 100
        - key: requireTorque
          type: number
          default: 1
        - key: requiredRpm
          type: number
          default: 5
        - key: fluidInventoryConnectors
          ref: fluidInventoryConnects
        - key: gear
          ref: gear
      - when: ElectricPump
        type: object
        properties:
        - key: generateFluid
          ref: generateFluids
        - key: innerTankCapacity
          type: number
          default: 100
        - key: requiredPower
          type: number
          default: 5
        - key: fluidInventoryConnectors
          ref: fluidInventoryConnects
      - when: GearElectricGenerator
        type: object
        implementationInterface:
        - IGearConnectors
        properties:
        - key: teethCount
          type: integer
          default: 10
        - key: requiredRpm
          type: number
          default: 120
        - key: requiredTorque
          type: number
          default: 100
        - key: maxGeneratedPower
          type: number
          default: 100
        - key: gear
          ref: gear

    - key: overrideVerticalBlock
      type: object
      optional: true
      properties:
      - key: upBlockGuid
        type: uuid
        foreignKey:
          schemaId: blocks
          foreignKeyIdPath: /data/[*]/blockGuid
          displayElementPath: /data/[*]/name
        optional: true
      - key: horizontalBlockGuid
        type: uuid
        foreignKey:
          schemaId: blocks
          foreignKeyIdPath: /data/[*]/blockGuid
          displayElementPath: /data/[*]/name
        optional: true
      - key: downBlockGuid
        type: uuid
        foreignKey:
          schemaId: blocks
          foreignKeyIdPath: /data/[*]/blockGuid
          displayElementPath: /data/[*]/name
        optional: true
    - key: enableConveyorPlacement
      type: boolean
      default: false
      optional: true
