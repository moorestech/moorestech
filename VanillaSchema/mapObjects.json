{
  "$id": "mapObjects",
  "type": "object",
  "isDefaultOpen": true,
  
  "properties": {
    "data": {
      "type": "array",
      "overrideCodeGeneratePropertyName": "MapObjectMasterElement",

      "items": {
        "type": "object",
        "properties": {

          "mapObjectGuid": {
            "type": "string",
            "format": "uuid",
            "autoGenerated": true
          },

          "mapObjectName": {
            "type": "string",
            "default": "mapObjectName"
          },

          "hp": {
            "type": "integer",
            "default": 100
          },
          "earnItemHps": {
            "type": "array",
            "items": {
              "type": "integer"
            },
            "default": [0]
          },
          "soundEffectType":{
            "type": "string",
            "enum":["tree","stone"]
          },
          "earnItems": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "itemGuid": {
                  "type": "string",
                  "format": "uuid",
                  "foreignKey": "items:itemGuid:name"
                },
                "minCount": {
                  "type": "integer",
                  "default": 1
                },
                "maxCount": {
                  "type": "integer",
                  "default": 3
                }
              }
            }
          },
          
          "miningType": {
            "type": "string",
            "enum":["PickUp","Mining"]
          },
          
          "miningParam": {
            "oneOf": [
              {
                "if": {
                  "properties": {
                    "miningType": { "const": "PickUp" }
                  }
                },
                "then": {
                  "type": "object",
                  "optional": true,
                  "properties": {
                  }
                }
              },

              {
                "if": {
                  "properties": {
                    "miningType": { "const": "Mining" }
                  }
                },
                "then": {
                  "type": "object",
                  "properties": {
                    
                    "miningTools": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "toolItemGuid": {
                            "type": "string",
                            "format": "uuid",
                            "foreignKey": "items:itemGuid:name"
                          },
                          "damage": {
                            "type": "integer",
                            "default": 10
                          },
                          "attackSpeed": {
                            "type": "number",
                            "default": 1
                          }
                        }
                      }
                    }

                  }
                }
              }

            ]
          }
        }
      }
    }
  }
}
