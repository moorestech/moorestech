id: challenges
type: object
isDefaultOpen: true
properties:
- key: data
  type: array
  overrideCodeGeneratePropertyName: ChallengeMasterElement
  items:
    type: object
    properties:
    - key: challengeGuid
      type: uuid
      autoGenerated: true
    - key: initialUnlocked
      type: boolean
      default: false
      $memo: チャレンジが初期状態でアンロックされているかどうか
    - key: unlockAllPreviousChallengeComplete
      type: boolean
      default: true
      $memo: 前のチャレンジが全て完了になったらアンロックするか
    - key: prevChallengeGuids
      type: array
      optional: true
      isDefaultOpen: true
      items:
        type: uuid
        foreignKey:
          schemaId: challenges
          foreignKeyIdPath: /data/[*]/challengeGuid
          displayElementPath: /data/[*]/title
    - key: title
      type: string
      default: New Challenge
    - key: summary
      type: string
      default: New Challenge summary
    - key: playSkitType
      type: enum
      default: None
      options:
      - None
      - BackgroundSkit
    - key: playSkitParam
      switch: ./playSkitType
      cases:
      - when: None
        type: object
        properties: []
      - when: BackgroundSkit
        type: object
        properties:
        - key: fireSkitName
          type: string
    - key: taskCompletionType
      type: enum
      default: createItem
      options:
      - createItem
      - inInventoryItem
      - blockPlace
    - key: taskParam
      isDefaultOpen: true
      switch: ./taskCompletionType
      cases:
      - when: createItem
        type: object
        properties:
        - key: itemGuid
          type: uuid
          foreignKey:
            schemaId: items
            foreignKeyIdPath: /data/[*]/itemGuid
            displayElementPath: /data/[*]/name
      - when: inInventoryItem
        type: object
        properties:
        - key: itemGuid
          type: uuid
          foreignKey:
            schemaId: items
            foreignKeyIdPath: /data/[*]/itemGuid
            displayElementPath: /data/[*]/name
        - key: itemCount
          type: integer
          default: 1
      - when: blockPlace
        type: object
        properties:
        - key: blockGuid
          type: uuid
          foreignKey:
            schemaId: blocks
            foreignKeyIdPath: /data/[*]/blockGuid
            displayElementPath: /data/[*]/name
        - key: itemCount
          type: integer
          default: 1
    - key: tutorials
      type: array
      isDefaultOpen: true
      items:
        type: object
        properties:
        - key: tutorialType
          type: enum
          default: uiHighLight
          options:
          - mapObjectPin
          - keyControl
          - uiHighLight
          - itemViewHighLight
        - key: tutorialParam
          switch: ./tutorialType
          cases:
          - when: mapObjectPin
            type: object
            properties:
            - key: mapObjectGuid
              type: uuid
              foreignKey:
                schemaId: mapObjects
                foreignKeyIdPath: /data/[*]/mapObjectGuid
                displayElementPath: /data/[*]/mapObjectName
            - key: pinText
              type: string
              default: pin text
          - when: keyControl
            type: object
            properties:
            - key: uiState
              type: enum
              options:
              - GameScreen
              - PlayerInventory
              - BlockInventory
              - PauseMenu
              - DeleteBar
              - Story
              - PlaceBlock
              default: GameScreen
            - key: controlText
              type: string
              default: control text
          - when: uiHighLight
            type: object
            properties:
            - key: highLightUIObjectId
              type: string
              default: ui object id
            - key: highLightText
              type: string
              default: highlight text
          - when: itemViewHighLight
            type: object
            properties:
            - key: highLightItemGuid
              type: uuid
              foreignKey:
                schemaId: items
                foreignKeyIdPath: /data/[*]/itemGuid
                displayElementPath: /data/[*]/name
            - key: highLightText
              type: string
              default: highlight text
    - key: startedActions
      ref: challengeAction
    - key: clearedActions
      ref: challengeAction
    - key: displayListParam
      type: object
      isDefaultOpen: true
      properties:
      - key: UIPosition
        type: vector2
        default:
        - 0
        - 0
        overrideCodeGeneratePropertyName: DisplayInChallengeListPosition
      - key: UIScale
        type: vector3
        default:
        - 1
        - 1
        - 1
        overrideCodeGeneratePropertyName: DisplayInChallengeListScale
      - key: IconItem
        type: uuid
        foreignKey:
          schemaId: items
          foreignKeyIdPath: /data/[*]/itemGuid
          displayElementPath: /data/[*]/name
        optional: true
        overrideCodeGeneratePropertyName: DisplayInChallengeListIconItemGuid
