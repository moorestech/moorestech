id: challenges
type: object
isDefaultOpen: true
properties:
- key: data
  type: array
  overrideCodeGeneratePropertyName: ChallengeMasterElement
  items:
    type: object
    properties:
    - key: challengeGuid
      type: uuid
      autoGenerated: true
    - key: prevChallengeGuid
      type: uuid
      foreignKey: challenges:challengeGuid:title
      optional: true
    - key: title
      type: string
      default: New Challenge
    - key: summary
      type: string
      default: New Challenge summary
    - key: playSkitType
      type: string
      default: createItem
      enum:
      - None
      - BackgroundSkit
    - key: playSkitParam
      switch: playSkitType
      cases:
      - when: None
        type: object
        properties: []
      - when: BackgroundSkit
        type: object
        properties:
        - key: fireSkitName
          type: string
    - key: taskCompletionType
      type: string
      default: createItem
      enum:
      - createItem
      - inInventoryItem
      - blockPlace
    - key: taskParam
      switch: taskCompletionType
      cases:
      - when: createItem
        type: object
        properties:
        - key: itemGuid
          type: uuid
          foreignKey: items:itemGuid:name
      - when: inInventoryItem
        type: object
        properties:
        - key: itemGuid
          type: uuid
          foreignKey: items:itemGuid:name
        - key: itemCount
          type: integer
          default: 1
      - when: blockPlace
        type: object
        properties:
        - key: blockGuid
          type: uuid
          foreignKey: blocks:blockGuid:name
        - key: itemCount
          type: integer
          default: 1
    - key: tutorials
      type: array
      items:
        type: object
        properties:
        - key: tutorialType
          type: string
          default: uiHighLight
          enum:
          - mapObjectPin
          - keyControl
          - uiHighLight
        - key: tutorialParam
          switch: tutorialType
          cases:
          - when: mapObjectPin
            type: object
            properties:
            - key: mapObjectGuid
              type: uuid
              foreignKey: mapObjects:mapObjectGuid:mapObjectName
            - key: pinText
              type: string
              default: pin text
          - when: keyControl
            type: object
            properties:
            - key: uiState
              type: string
              enum:
              - GameScreen
              - PlayerInventory
              - BlockInventory
              - PauseMenu
              - DeleteBar
              - Story
              - PlaceBlock
              default: GameScreen
            - key: controlText
              type: string
              default: control text
          - when: uiHighLight
            type: object
            properties:
            - key: highLightUIObjectId
              type: string
              default: ui object id
            - key: highLightText
              type: string
              default: highlight text
    - key: clearedActions
      type: array
      items:
        type: object
        properties:
        - key: clearedActionType
          type: string
          enum:
          - unlockCraftRecipe
          - unlockItemRecipeView
        - key: clearedActionParam
          switch: clearedActionType
          cases:
          - when: unlockCraftRecipe
            type: object
            properties:
            - key: unlockRecipeGuid
              type: uuid
              foreignKey: craftRecipes:craftRecipeGuid:craftRecipeGuid
          - when: unlockItemRecipeView
            type: object
            properties:
            - key: unlockItemGuid
              type: uuid
              foreignKey: items:itemGuid:name
    - key: displayListType
      type: string
      default: createItem
      enum:
      - NotDisplay
      - Display
      $memo: ここはbooleanにしたいけど、コード生成側の都合で出来ないのでいったんstringにしている
    - key: displayListParam
      switch: displayListType
      cases:
      - when: Display
        type: object
        properties:
        - key: UIPosition
          type: vector2
          default:
          - 0
          - 0
          overrideCodeGeneratePropertyName: DisplayInChallengeListPosition
        - key: IconItem
          type: uuid
          foreignKey: items:itemGuid:name
          optional: true
          overrideCodeGeneratePropertyName: DisplayInChallengeListIconItemGuid
      - when: NotDisplay
        type: object
        properties: []
