id: blocks
type: object
isDefaultOpen: true

properties:
  - key: data
    type: array
    overrideCodeGeneratePropertyName: BlockElement
    items:
      type: object

      properties:
        - key: blockGuid
          type: uuid
          optional: false
          autoGenerated: true

        - key: name
          type: string
          optional: false

        - key: blockType
          type: string
          optional: false
          enum:
          - BeltConveyor
          - Chest

        - key: itemGuid
          type: uuid
          foreignKey: items:itemGuid:name
          optional: false

        - key: blockSize
          type: vector3Int
          optional: false
          default:
          - 1
          - 1
          - 1

        - key: modelTransform
          ref: modelTransform
          optional: false

        - key: blockParam
          optional: false
          switch: "blockType"
          cases:
          - when: BeltConveyor
            type: object
            properties:
              - key: beltConveyorItemCount
                type: integer
                optional: true
              - key: timeOfItemEnterToExit
                type: number
                optional: true
              - key: inventoryConnectors
                ref: inventoryConnects
                optional: false

          - when: Chest
            type: object
            properties:
              - key: chestItemSlotCount
                type: integer
                optional: false
                default: 5
              - key: inventoryConnectors
                ref: inventoryConnects
                optional: false
