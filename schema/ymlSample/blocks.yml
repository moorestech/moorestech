id: blocks
type: object
isDefaultOpen: true
properties:
- key: data
  type: array
  overrideCodeGeneratePropertyName: BlockMasterElement
  items:
    type: object
    properties:
    - key: blockGuid
      type: uuid
      autoGenerated: true
    - key: name
      type: string
    - key: blockType
      type: string
      enum:
      - Block
      - BeltConveyor
      - Chest
      - ElectricMachine
      - ElectricPole
      - ElectricGenerator
      - ElectricMiner
      - Gear
      - Shaft
      - GearMachine
      - SimpleGearGenerator
      - GearBeltConveyor
      - ItemShooter
    - key: itemGuid
      type: uuid
      foreignKey: items:itemGuid:name
    - key: blockSize
      type: vector3Int
      default:
      - 1
      - 1
      - 1
    - key: blockParam
      switch: blockType
      cases:
        # ここのWhenはパスで指定するようにするので、他のサンプルを用意している
      - when: BeltConveyor
        type: object
        properties:
        - key: beltConveyorItemCount
          type: integer
          default: 1
        - key: timeOfItemEnterToExit
          type: number
          default: 1
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: Chest
        type: object
        properties:
        - key: chestItemSlotCount
          type: integer
          default: 5
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: ElectricMachine
        type: object
        properties:
        - key: inputItemSlotCount
          type: integer
          default: 1
        - key: outputItemSlotCount
          type: integer
          default: 1
        - key: requiredPower
          type: number
          default: 5
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: ElectricPole
        type: object
        properties:
        - key: poleConnectionRange
          type: integer
          default: 5
        - key: machineConnectionRange
          type: integer
          default: 5
      - when: ElectricGenerator
        type: object
        properties:
        - key: fuelItemSlotCount
          type: integer
          default: 3
        - key: isInfinityPower
          type: boolean
          default: false
        - key: infinityPower
          type: integer
          default: 0
        - key: fuelItems
          type: array
          items:
            type: object
            properties:
            - key: itemGuid
              type: uuid
              foreignKey: items:itemGuid:name
            - key: time
              type: number
              default: 1
            - key: power
              type: number
              default: 10
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: ElectricMiner
        type: object
        properties:
        - key: requiredPower
          type: number
          default: 5
        - key: outputItemSlotCount
          type: integer
          default: 3
        - key: mineSettings
          type: array
          items:
            type: object
            properties:
            - key: itemGuid
              type: uuid
              foreignKey: items:itemGuid:name
            - key: time
              type: number
              default: 1
        - key: inventoryConnectors
          ref: inventoryConnects
      - when: Gear
        type: object
        properties:
        - key: teethCount
          type: integer
          default: 10
        - key: requireTorque
          type: number
          default: 1
        - key: gearConnects
          ref: blockConnectInfo
      - when: Shaft
        type: object
        properties:
        - key: requireTorque
          type: number
          default: 1
        - key: gearConnects
          ref: blockConnectInfo
      - when: GearMachine
        type: object
        properties:
        - key: inputItemSlotCount
          type: integer
          default: 1
        - key: outputItemSlotCount
          type: integer
          default: 1
        - key: teethCount
          type: integer
          default: 10
        - key: requireTorque
          type: number
          default: 1
        - key: requiredRpm
          type: number
          default: 5
        - key: inventoryConnectors
          ref: inventoryConnects
        - key: gearConnects
          ref: blockConnectInfo
      - when: SimpleGearGenerator
        type: object
        properties:
        - key: teethCount
          type: integer
          default: 10
        - key: generateRpm
          type: number
          default: 5
        - key: generateTorque
          type: number
          default: 1
        - key: requireTorque
          type: number
          default: 1
        - key: gearConnects
          ref: blockConnectInfo
      - when: GearBeltConveyor
        type: object
        properties:
        - key: beltConveyorItemCount
          type: integer
          default: 4
        - key: beltConveyorSpeed
          type: number
          default: 2
        - key: requireTorque
          type: number
          default: 2
        - key: inventoryConnectors
          ref: inventoryConnects
        - key: gearConnects
          ref: blockConnectInfo
      - when: ItemShooter
        type: object
        properties:
        - key: inventoryItemNum
          type: integer
          default: 4
        - key: initialShootSpeed
          type: number
          default: 3
        - key: itemShootSpeed
          type: number
          default: 2
        - key: acceleration
          type: number
          default: 1
        - key: inventoryConnectors
          ref: inventoryConnects
    - key: overrideVerticalBlock
      type: object
      optional: true
      properties:
      - key: upBlockGuid
        type: uuid
        foreignKey: blocks:blockGuid:name
      - key: horizontalBlockGuid
        type: uuid
        foreignKey: blocks:blockGuid:name
      - key: downBlockGuid
        type: uuid
        foreignKey: blocks:blockGuid:name
